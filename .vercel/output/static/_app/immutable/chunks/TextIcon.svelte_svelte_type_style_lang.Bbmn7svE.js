var S=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function W(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var v={exports:{}};(function(s){(function(f,l){s.exports?s.exports=l():f.ImageZoom=l()})(S,function(){return function(l,L){var t=L;if(!l)return;var e={sourceImg:{element:null,width:0,height:0,naturalWidth:0,naturalHeight:0},zoomedImgOffset:{vertical:0,horizontal:0},zoomedImg:{element:null,width:0,height:0},zoomLens:{element:null,width:0,height:0}},w=document.createElement("div"),b=document.createElement("div"),a,d,r;e.zoomedImgOffset={vertical:t.offset&&t.offset.vertical?t.offset.vertical:0,horizontal:t.offset&&t.offset.horizontal?t.offset.horizontal:0},e.zoomPosition=t.zoomPosition||"right",e.zoomContainer=t.zoomContainer?t.zoomContainer:l;function z(o){if(o){var m=o.getBoundingClientRect();return{left:m.left,top:m.top}}return{left:0,top:0}}function x(o){return t.width-o}function E(o){return t.height-o}function k(o,m,i){return o<m?m:o>i?i:o}function c(o,m,i){var g=k(o,m,i);return g-m}function O(o){var m=e.zoomLens.width/2;return c(o,m,x(m))}function C(o){var m=e.zoomLens.height/2;return c(o,m,E(m))}function M(o,m){o.scale?(m.zoomedImg.element.style.width=o.width*o.scale+"px",m.zoomedImg.element.style.height=o.height*o.scale+"px"):o.zoomWidth?(m.zoomedImg.element.style.width=o.zoomWidth+"px",m.zoomedImg.element.style.height=m.sourceImg.element.style.height):(m.zoomedImg.element.style.width="100%",m.zoomedImg.element.style.height="100%")}function u(){t.height=t.height||e.sourceImg.element.height,e.sourceImg.element.style.height=t.height+"px",t.width=t.width||e.sourceImg.element.width,e.sourceImg.element.style.width=t.width+"px",M(t,e),e.sourceImg.naturalWidth=e.sourceImg.element.naturalWidth,e.sourceImg.naturalHeight=e.sourceImg.element.naturalHeight,e.zoomedImg.element.style.backgroundSize=e.sourceImg.naturalWidth+"px "+e.sourceImg.naturalHeight+"px",t.zoomStyle&&(e.zoomedImg.element.style.cssText+=t.zoomStyle),t.zoomLensStyle?e.zoomLens.element.style.cssText+=t.zoomLensStyle:(e.zoomLens.element.style.background="white",e.zoomLens.element.style.opacity="0.4"),a=e.sourceImg.naturalWidth/t.width,d=e.sourceImg.naturalHeight/t.height,r=z(e.sourceImg.element),t.scale?(e.zoomLens.width=t.width/(e.sourceImg.naturalWidth/(t.width*t.scale)),e.zoomLens.height=t.height/(e.sourceImg.naturalHeight/(t.height*t.scale))):t.zoomWidth?(e.zoomLens.width=t.zoomWidth/a,e.zoomLens.height=t.height/d):(e.zoomedImg.element.style.display="block",e.zoomLens.width=e.zoomedImg.element.clientWidth/a,e.zoomLens.height=e.zoomedImg.element.clientHeight/d,e.zoomedImg.element.style.display="none"),e.zoomLens.element.style.position="absolute",e.zoomLens.element.style.width=e.zoomLens.width+"px",e.zoomLens.element.style.height=e.zoomLens.height+"px",e.zoomLens.element.pointerEvents="none"}function h(){if(t.img){var o=document.createElement("img");o.src=t.img,e.sourceImg.element=l.appendChild(o)}else e.sourceImg.element=l.children[0],e.sourceImg.element.nodeName!=="IMG"&&(e.sourceImg.element=e.sourceImg.element.querySelector("img"));switch(t=t||{},l.style.position="relative",e.sourceImg.element.style.width=t.width?t.width+"px":"auto",e.sourceImg.element.style.height=t.height?t.height+"px":"auto",e.zoomLens.element=l.appendChild(b),e.zoomLens.element.style.display="none",e.zoomLens.element.classList.add("js-image-zoom__zoomed-area"),e.zoomedImg.element=e.zoomContainer.appendChild(w),e.zoomedImg.element.classList.add("js-image-zoom__zoomed-image"),e.zoomedImg.element.style.backgroundImage="url('"+e.sourceImg.element.src+"')",e.zoomedImg.element.style.backgroundRepeat="no-repeat",e.zoomedImg.element.style.display="none",e.zoomPosition){case"left":e.zoomedImg.element.style.position="absolute",e.zoomedImg.element.style.top=e.zoomedImgOffset.vertical+"px",e.zoomedImg.element.style.left=e.zoomedImgOffset.horizontal-e.zoomedImgOffset.horizontal*2+"px",e.zoomedImg.element.style.transform="translateX(-100%)";break;case"top":e.zoomedImg.element.style.position="absolute",e.zoomedImg.element.style.top=e.zoomedImgOffset.vertical-e.zoomedImgOffset.vertical*2+"px",e.zoomedImg.element.style.left="calc(50% + "+e.zoomedImgOffset.horizontal+"px)",e.zoomedImg.element.style.transform="translate3d(-50%, -100%, 0)";break;case"bottom":e.zoomedImg.element.style.position="absolute",e.zoomedImg.element.style.bottom=e.zoomedImgOffset.vertical-e.zoomedImgOffset.vertical*2+"px",e.zoomedImg.element.style.left="calc(50% + "+e.zoomedImgOffset.horizontal+"px)",e.zoomedImg.element.style.transform="translate3d(-50%, 100%, 0)";break;case"original":e.zoomedImg.element.style.position="absolute",e.zoomedImg.element.style.top="0px",e.zoomedImg.element.style.left="0px";break;default:e.zoomedImg.element.style.position="absolute",e.zoomedImg.element.style.top=e.zoomedImgOffset.vertical+"px",e.zoomedImg.element.style.right=e.zoomedImgOffset.horizontal-e.zoomedImgOffset.horizontal*2+"px",e.zoomedImg.element.style.transform="translateX(100%)";break}return l.addEventListener("mousemove",n,!1),l.addEventListener("mouseenter",n,!1),l.addEventListener("mouseleave",n,!1),e.zoomLens.element.addEventListener("mouseenter",n,!1),e.zoomLens.element.addEventListener("mouseleave",n,!1),window.addEventListener("scroll",n,!1),e}function I(){return l.removeEventListener("mousemove",n,!1),l.removeEventListener("mouseenter",n,!1),l.removeEventListener("mouseleave",n,!1),e.zoomLens.element.removeEventListener("mouseenter",n,!1),e.zoomLens.element.removeEventListener("mouseleave",n,!1),window.removeEventListener("scroll",n,!1),e.zoomLens&&e.zoomedImg&&(l.removeChild(e.zoomLens.element),e.zoomContainer.removeChild(e.zoomedImg.element)),t.img?l.removeChild(e.sourceImg.element):(e.sourceImg.element.style.width="",e.sourceImg.element.style.height=""),e}var n={handleEvent:function(o){switch(o.type){case"mousemove":return this.handleMouseMove(o);case"mouseenter":return this.handleMouseEnter(o);case"mouseleave":return this.handleMouseLeave(o);case"scroll":return this.handleScroll(o)}},handleMouseMove:function(o){var m,i,g,p,y;r&&(m=O(o.clientX-r.left),i=C(o.clientY-r.top),g=m*a,p=i*d,y="-"+g+"px -"+p+"px",e.zoomedImg.element.style.backgroundPosition=y,e.zoomLens.element.style.cssText+="top:"+i+"px;left:"+m+"px;display: block;")},handleMouseEnter:function(){e.zoomedImg.element.style.display="block",e.zoomLens.element.style.display="block"},handleMouseLeave:function(){e.zoomedImg.element.style.display="none",e.zoomLens.element.style.display="none"},handleScroll:function(){r=z(e.sourceImg.element)}};return h(),e.sourceImg.element.complete?u():e.sourceImg.element.onload=u,{setup:function(){h()},kill:function(){I()},_getInstanceInfo:function(){return{setup:h,kill:I,onSourceImgLoad:u,data:e,options:t}}}}})})(v);var j=v.exports;const H=W(j);export{H as I};
